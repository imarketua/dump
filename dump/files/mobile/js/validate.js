function validate(r){return text={v_required:"Заполните поле!",v_max_60:"Максимум - <strong>60</strong> симв.",v_max_30:"Максимум - <strong>30</strong> симв.",v_email:"Введите <strong>правильный</strong><br />e-mail!",v_min_5:"Минимум - <strong>5</strong> симв.",v_min_15:"Минимум - <strong>15</strong> симв.",v_max_1500:"Максимум - <strong>1500</strong> симв.",v_num_only:"Допустимы только цифры!",v_password:"Пароли не совпадают",v_phone:"Допустимые символы: <br /><strong>все цифры, знак + и запятая</strong>"},errors=0,first=0,r.find("input[data-validate], textarea[data-validate], select[data-validate]").each(function(){e=$(this);var r=check(e),a="";a="SELECT"==e.get(0).tagName?e.parent():e,"ok"!=r&&(0==errors&&(first=a.offset().top-20),errors++,a.parent().find(".additem-errors").remove(),a.after("<div class='additem-errors'>"+text[r]+"</div>"))}),errors>0?($("html, body").animate({scrollTop:first+"px"}),!1):!0}function check(r){var a=r.data("validate").split(",");for(var t in a)a[t]=$.trim(a[t]);if(has(a,"v_required")&&(""==r.val()||null==r.val()))return"v_required";if(has(a,"v_min_5")&&r.val().length<5)return"v_min_5";if(has(a,"v_max_60")&&r.val().length>60)return"v_max_60";if(has(a,"v_max_30")&&r.val().length>30)return"v_max_30";if(has(a,"v_min_15")&&r.val().length<15)return"v_min_15";if(has(a,"v_max_1500")&&r.val().length>1500)return"v_max_1500";if(has(a,"v_num_only")&&r.val().match(/[^0-9]/g))return"v_num_only";if(has(a,"v_email")){var e=/^[a-z0-9._-]+@[a-z0-9-]+\.([a-z]{1,6}\.)?[a-z]{2,6}$/i;if(!r.val().match(e))return"v_email"}if(has(a,"v_password")){var n=0,v=new Array;for($(".v_password").each(function(){n++,v[n]=$(this).val()}),t=1;n>t;t++)if(void 0!=v[t+1]&&v[t]!=v[t+1])return"v_password"}if(has(a,"v_phone")){var e=/[^\d,+ ]/g;if(r.val().match(e))return"v_phone"}return"ok"}function has(r,a){var t=$.inArray(a,r);return-1==t?!1:t>-1?!0:void 0}